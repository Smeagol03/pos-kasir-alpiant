# POS Kasir Alpiant - Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
# Options: development, production
# Default: development
APP_ENV=development

# Application name (optional)
APP_NAME="POS Kasir Alpiant"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite database path (relative to app data directory)
DB_PATH=pos.db

# Connection pool settings
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=2

# =============================================================================
# PAYMENT GATEWAY - MIDTRANS
# =============================================================================
# Dapatkan credentials dari https://dashboard.sandbox.midtrans.com
#
# PENTING: Untuk QRIS payment, HANYA Server Key yang dibutuhkan.
# Client Key TIDAK digunakan karena kita menggunakan Direct API (backend-to-backend),
# bukan Snap.js (frontend payment popup).
#
# Server Key format:
# - Sandbox: SB-Mid-server-xxxxxxxxxxxxx
# - Production: Mid-server-xxxxxxxxxxxxx

MIDTRANS_SERVER_KEY=SB-Mid-server-xxxxxxxxxxxxx
MIDTRANS_BASE_URL=https://api.sandbox.midtrans.com

# Enable/disable QRIS payments
QRIS_ENABLED=true

# Payment provider (midtrans, xendit)
PAYMENT_PROVIDER=midtrans

# Production (ganti saat deploy):
# MIDTRANS_SERVER_KEY=Mid-server-xxxxxxxxxxxxx
# MIDTRANS_BASE_URL=https://api.midtrans.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# IMPORTANT: Set a strong encryption key in production!
# This key is used to encrypt sensitive data like API keys.
# Generate a random key: openssl rand -hex 32
# 
# DO NOT use the example key below in production!
ENCRYPTION_KEY=your-super-secret-encryption-key-at-least-32-chars

# Session timeout in minutes (default: 480 = 8 hours)
SESSION_TIMEOUT_MINS=480

# Maximum login attempts before account lockout
MAX_LOGIN_ATTEMPTS=5

# Lockout duration in minutes
LOCKOUT_DURATION_MINS=15

# Minimum password length
MIN_PASSWORD_LENGTH=8

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: error, warn, info, debug, trace
# Default: debug (development), warn (production)
RUST_LOG=debug

# Log to stdout (console)
LOG_TO_STDOUT=true

# =============================================================================
# PRINTER CONFIGURATION
# =============================================================================
# Default printer port (cups, serial, network, etc.)
PRINTER_DEFAULT_PORT=cups

# Paper width: 58mm or 80mm
PRINTER_PAPER_WIDTH=80mm

# Number of copies
PRINTER_COPIES=1

# Auto-print on transaction complete
PRINTER_AUTO_PRINT=false

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production:
# 1. Set APP_ENV=production
# 2. Generate and set a strong ENCRYPTION_KEY
# 3. Update MIDTRANS_SERVER_KEY to production key
# 4. Update MIDTRANS_BASE_URL to https://api.midtrans.com
# 5. Set RUST_LOG=warn (or error)
# 6. Ensure .env file is NOT committed to version control
# 7. Set proper file permissions on .env (chmod 600 .env)
# 8. Backup database regularly
# =============================================================================
